{% extends "layouts/base_site.html" %}

{% block content %}
<div class="right_col" role="main">
  This demos a Google Pub/Sub integration - a camera (Intel RealSense depth camera) is connected to a computer running the container (defined by docker-compose-intel.yml in this repository). The camera is pointing at a random location in my office. The demo takes about 10 seconds to complete, so please be patient! <br>
  The colorized depth map is shown here and a link to the photo in storage is below the image. 
  <br>
  <div id="successful-run"></div>
  <h5>Results. <h5>
  <ul>
    <li> Taken at {{time_of_photo}} </li>
    <li><a href="{{url}}" target="_blank">{{link}}</a> </li>
    {% if url_data %}
    <li><a href="{{url_data}}" target="_blank">{{link_data}}</a> </li>
    {% endif %}
    <li> <a href="{{ url_for('pubsub_bp.pubsub_depth_cam') }}" >Retake photo</a> </li>
  </ul>
  
  <div class="row">
    <figure>
      <img src="{{url}}" width=100% alt="alt" />
      <figcaption>
        <a href="{{url}}" target="_blank">{{link}}</a>     
      </figcaption>
    </figure>
  </div>

  <div class="row">
    <!-- <div id="plotly-chart">{ fig_html|safe} </div> -->
    <iframe id="plotly-chart" src="{{ url_for('static', filename='figures/figure.html') }}" 
          width="100%" height="600px" frameborder="0"></iframe>
  </div>

  
</div>
{% endblock %}
